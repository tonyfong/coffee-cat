{"ast":null,"code":"import { all, call, takeLatest } from \"redux-saga/effects\";\nimport UserActionTypes from \"./user.types\";\nimport { SignInSuccess, SignInFailure } from './user.actions';\nimport { auth, googleProvider, createUserProfileDocument } from \"../../firebase/firebase.util.js\";\nexport function* signInWithGoogle() {\n  try {\n    const _ref = yield auth.signInWithPopup(googleProvider),\n          user = _ref.user;\n\n    const userRef = yield call(createUserProfileDocument, user);\n    yield put(SignInSuccess(userRef));\n  } catch (error) {\n    yield put(SignInFailure(error));\n  }\n}\nexport function* onGoogleSignInStart() {\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoogle);\n}\nexport function* userSagas() {\n  yield all([call(onGoogleSignInStart)]);\n}","map":{"version":3,"sources":["C:\\Users\\tony.fong\\source\\react-course\\crwn-clothing\\src\\redux\\user\\user.sagas.js"],"names":["all","call","takeLatest","UserActionTypes","SignInSuccess","SignInFailure","auth","googleProvider","createUserProfileDocument","signInWithGoogle","signInWithPopup","user","userRef","put","error","onGoogleSignInStart","GOOGLE_SIGN_IN_START","userSagas"],"mappings":"AAAA,SAASA,GAAT,EAAcC,IAAd,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,gBAA3C;AACA,SACEC,IADF,EAEEC,cAFF,EAGEC,yBAHF,QAIO,iCAJP;AAMA,OAAO,UAAUC,gBAAV,GAA6B;AAClC,MAAI;AAAA,iBACa,MAAMH,IAAI,CAACI,eAAL,CAAqBH,cAArB,CADnB;AAAA,UACKI,IADL,QACKA,IADL;;AAEF,UAAMC,OAAO,GAAG,MAAMX,IAAI,CAACO,yBAAD,EAA4BG,IAA5B,CAA1B;AACA,UAAME,GAAG,CAACT,aAAa,CAACQ,OAAD,CAAd,CAAT;AACD,GAJD,CAIE,OAAOE,KAAP,EAAc;AACZ,UAAMD,GAAG,CAACR,aAAa,CAACS,KAAD,CAAd,CAAT;AACH;AACF;AACD,OAAO,UAAUC,mBAAV,GAAgC;AACrC,QAAMb,UAAU,CAACC,eAAe,CAACa,oBAAjB,EAAuCP,gBAAvC,CAAhB;AACD;AAED,OAAO,UAAUQ,SAAV,GAAsB;AAC3B,QAAMjB,GAAG,CAAC,CAACC,IAAI,CAACc,mBAAD,CAAL,CAAD,CAAT;AACD","sourcesContent":["import { all, call, takeLatest } from \"redux-saga/effects\";\r\nimport UserActionTypes from \"./user.types\";\r\nimport {SignInSuccess, SignInFailure} from './user.actions';\r\nimport {\r\n  auth,\r\n  googleProvider,\r\n  createUserProfileDocument\r\n} from \"../../firebase/firebase.util.js\";\r\n\r\nexport function* signInWithGoogle() {\r\n  try {\r\n    const {user} = yield auth.signInWithPopup(googleProvider);\r\n    const userRef = yield call(createUserProfileDocument, user);\r\n    yield put(SignInSuccess(userRef));\r\n  } catch (error) {\r\n      yield put(SignInFailure(error));\r\n  }\r\n}\r\nexport function* onGoogleSignInStart() {\r\n  yield takeLatest(UserActionTypes.GOOGLE_SIGN_IN_START, signInWithGoogle);\r\n}\r\n\r\nexport function* userSagas() {\r\n  yield all([call(onGoogleSignInStart)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}